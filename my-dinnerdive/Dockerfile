FROM maven:3.9.0-eclipse-temurin-17 AS build

COPY . /app
WORKDIR /app

# ğŸ› Debug ç”¨ï¼šçœ‹çœ‹ /app è£¡åˆ°åº•æœ‰æ²’æœ‰ pom.xml
RUN ls -al /app

# ğŸ§ª Maven buildï¼ˆé€™å€‹å°±æ˜¯å‰›å‰›å‡ºéŒ¯çš„åœ°æ–¹ï¼‰
RUN mvn clean package -DskipTests

FROM eclipse-temurin:17-jre
COPY --from=build /app/target/*.jar app.jar

EXPOSE 8080
CMD ["java", "-jar", "app.jar"]
